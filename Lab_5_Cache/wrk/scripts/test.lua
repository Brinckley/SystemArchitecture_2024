math.randomseed(os.time())
math.random(); math.random(); math.random()

names = { "mary872477",  "patriciaarnold2477",  "cookadrian2477",  "gshaffer2477",  "cookjessica2477",  "danielgonzalez2477",  "yjackson2477",  "fosterrobert2477",  "margaretclark2477",  "farmeralexis2477",  "aperkins2477",  "joshuawilliams2477",  "ystrong2477",  "catherineburton2477",  "transusan2477",  "michaelperry2477",  "ffernandez2477",  "juarezrodney2477",  "jacobweiss2477",  "davidbuchanan2477",  "dreynolds2477",  "pnewton2477",  "meganfisher2477",  "ocole2477",  "hrivers2477",  "fredbrown2477",  "robertmarshall2477",  "heatherschwartz2477",  "vincent482477",  "watsonsara2477",  "zjames2477",  "yateschristine2477",  "tanyabrewer2477",  "jacksontimothy2477",  "luke452477",  "sbrewer2477",  "walshjohn2477",  "andrewestrada2477",  "uanderson2477",  "stewartamanda2477",  "jennifer702477",  "jameshobbs2477",  "moranwilliam2477",  "christinatownsend2477",  "uhernandez2477",  "brittany382477",  "wpark2477",  "deleonregina2477",  "jessicasharp2477",  "hmendez2477",  "tiffanydiaz2477",  "fosterthomas2477",  "victoria202477",  "felicia872477",  "meltonchristine2477",  "briansmith2477",  "lesliefox2477",  "sarah342477",  "angellee2477",  "zoeschultz2477",  "benitezian2477",  "shellyhamilton2477",  "huntjames2477",  "knightamber2477",  "bnelson2477",  "juliebrown2477",  "zhall2477",  "heather962477",  "contrerasalicia2477",  "morenobrittany2477"} 
emails = { "parnold2477@gmail.com", "evanshannah2477@gmail.com", "carlosbrown2477@gmail.com", "cjimenez2477@gmail.com", "elizabeth522477@gmail.com", "teresa522477@gmail.com", "chasemorris2477@gmail.com", "jamesjimenez2477@gmail.com", "sboyer2477@gmail.com", "jesus172477@gmail.com", "apowell2477@gmail.com", "karenmitchell2477@gmail.com", "william812477@gmail.com", "oharrell2477@gmail.com", "martinkimberly2477@gmail.com", "dgolden2477@gmail.com", "nancybryant2477@gmail.com", "qgarcia2477@gmail.com", "blakepowell2477@gmail.com", "breannadonovan2477@gmail.com", "ritastark2477@gmail.com", "jenniferwalker2477@gmail.com", "uhawkins2477@gmail.com", "zvazquez2477@gmail.com", "justin182477@gmail.com", "williamanderson2477@gmail.com", "james642477@gmail.com", "hicksjeffrey2477@gmail.com", "robertsmith2477@gmail.com", "qmarks2477@gmail.com", "wferguson2477@gmail.com", "hugheskatherine2477@gmail.com", "angel202477@gmail.com", "caleb032477@gmail.com", "wmartin2477@gmail.com", "cynthiarowe2477@gmail.com", "jaredcannon2477@gmail.com", "shannonortiz2477@gmail.com", "waltersgregory2477@gmail.com", "dawnvance2477@gmail.com", "pwilson2477@gmail.com", "gallowaysandra2477@gmail.com", "mortoncarolyn2477@gmail.com", "cnoble2477@gmail.com", "carlosbrown2477@gmail.com", "cameron612477@gmail.com", "matthew782477@gmail.com", "dsmith2477@gmail.com", "qwang2477@gmail.com", "carlyhurst2477@gmail.com", "rcastillo2477@gmail.com", "mmassey2477@gmail.com", "andrea922477@gmail.com", "rickeycombs2477@gmail.com", "christinaroberts2477@gmail.com", "sherrygarcia2477@gmail.com", "jenniferbowen2477@gmail.com", "carrollchristopher2477@gmail.com", "carteranne2477@gmail.com", "holdennicole2477@gmail.com", "fishershane2477@gmail.com", "christopherrodriguez2477@gmail.com", "diana122477@gmail.com", "schwartzsara2477@gmail.com", "berrytaylor2477@gmail.com", "dsmith2477@gmail.com", "joseph522477@gmail.com", "zcase2477@gmail.com", "carternicole2477@gmail.com", "xreynolds2477@gmail.com"}
names2 = { "vreyes2477",  "idominguez2477",  "lcole2477",  "ukelly2477",  "karen352477",  "kimberlywallace2477",  "uhodges2477",  "mcneilkatrina2477",  "jillian082477",  "loretta252477",  "paulglover2477",  "penny982477",  "charlesreed2477",  "evanspencer2477",  "elizabeth482477",  "jonathansimpson2477",  "yevans2477",  "george582477",  "andrew932477",  "shepardolivia2477",  "russellwilliam2477",  "courtneyhoover2477",  "jonesaaron2477",  "eddiegardner2477",  "shawn672477",  "garrett452477",  "davidmcbride2477",  "theresamiller2477",  "ggonzalez2477",  "harperelizabeth2477",  "juliawashington2477",  "joelowens2477",  "smithpam2477",  "alicia572477",  "darlene482477",  "millermary2477",  "pgreene2477",  "carrjohn2477",  "josephweaver2477",  "tracysmith2477",  "barkermichael2477",  "jaredkelly2477",  "timothy582477",  "victor832477",  "michael002477",  "hartscott2477",  "schwartzcarol2477",  "drios2477",  "meagan282477",  "crystal212477",  "jonathan792477",  "yclements2477",  "lpugh2477",  "btran2477",  "woodssierra2477",  "michael802477",  "watsonjeffery2477",  "robertdonovan2477",  "courtneyball2477",  "stanleybonnie2477",  "umunoz2477",  "brettjimenez2477",  "twood2477",  "jacobjones2477",  "gerald072477",  "adamscaitlin2477",  "fgarza2477",  "lisa472477",  "maybrian2477",  "robinsonscott2477" }
emails2 = { "xcarlson2477@gmail.com", "denise522477@gmail.com", "paul492477@gmail.com", "williamthomas2477@gmail.com", "josephlewis2477@gmail.com", "johnhunter2477@gmail.com", "rachelrivera2477@gmail.com", "rogersjessica2477@gmail.com", "ellisscott2477@gmail.com", "charles932477@gmail.com", "davenportrobert2477@gmail.com", "owright2477@gmail.com", "danielparker2477@gmail.com", "oortiz2477@gmail.com", "danieljohnson2477@gmail.com", "jennifer982477@gmail.com", "tammy422477@gmail.com", "fostertamara2477@gmail.com", "micheal532477@gmail.com", "wanda712477@gmail.com", "fletcherjustin2477@gmail.com", "umorrison2477@gmail.com", "lisagarcia2477@gmail.com", "cartermatthew2477@gmail.com", "youngandrew2477@gmail.com", "lhouston2477@gmail.com", "xmoreno2477@gmail.com", "alyssa362477@gmail.com", "paul922477@gmail.com", "stanleystephen2477@gmail.com", "deborah902477@gmail.com", "samanthacook2477@gmail.com", "casesarah2477@gmail.com", "carlbishop2477@gmail.com", "rebecca502477@gmail.com", "jennifer382477@gmail.com", "jacqueline532477@gmail.com", "shermanmaria2477@gmail.com", "michele482477@gmail.com", "bergmichael2477@gmail.com", "elizabeth802477@gmail.com", "lgill2477@gmail.com", "marypatrick2477@gmail.com", "erikacarey2477@gmail.com", "henrywheeler2477@gmail.com", "patriciaparker2477@gmail.com", "jesse472477@gmail.com", "lindsay282477@gmail.com", "bakerrandy2477@gmail.com", "lorismith2477@gmail.com", "richard432477@gmail.com", "vaughnrachel2477@gmail.com", "mreyes2477@gmail.com", "timothyfrazier2477@gmail.com", "gonzalezcarrie2477@gmail.com", "boliver2477@gmail.com", "lpatrick2477@gmail.com", "erica342477@gmail.com", "daykristina2477@gmail.com", "martinrodney2477@gmail.com", "marymay2477@gmail.com", "leonardzhang2477@gmail.com", "fandrade2477@gmail.com", "mary222477@gmail.com", "lynnaaron2477@gmail.com", "ashleyho2477@gmail.com", "jonathan092477@gmail.com", "teresahall2477@gmail.com", "awright2477@gmail.com", "heather002477@gmail.com"}

request_signup = function()
    headers = {}
    headers["Content-Type"] = "application/json"
    body = '{"username": \"'.. names[math.random(#names)] .. names[math.random(#names)] ..'\", "password": "_password_", "first_name": "First", "last_name": "Last", "email": \"'.. names[math.random(#names)] .. emails[math.random(#emails)] ..'\"}'
    return wrk.format("POST", "/signup", headers, body)
end

request_get_by_id = function()
    headers = {}
    headers["Content-Type"] = "application/json"
    return wrk.format("GET", "/account/" .. ('%d'):format(math.random(#names) + math.random(#names)), headers, body)
end
request_signup2 = function()
    headers = {}
    headers["Content-Type"] = "application/json"
    body = '{"username": \"'.. names2[math.random(#names2)] .. names2[math.random(#names2)] ..'\", "password": "_password_", "first_name": "First", "last_name": "Last", "email": \"'.. names2[math.random(#names2)] .. emails2[math.random(#emails2)] ..'\"}'
    return wrk.format("POST", "/signup", headers, body)
end

request_get_by_id2 = function()
    headers = {}
    headers["Content-Type"] = "application/json"
    return wrk.format("GET", "/account/" .. ('%d'):format(math.random(#names) + math.random(#names) + math.random(#names2)), headers, body)
end

requests = {}
requests[0] = request_signup
requests[1] = request_get_by_id
requests[2] = request_signup2
requests[3] = request_get_by_id2
requests[4] = request_get_by_id
requests[5] = request_get_by_id2
requests[6] = request_get_by_id
requests[7] = request_get_by_id2

request = function()
    return requests[math.random(0, 7)]()
end

response = function(status, headers, body)
    if status ~= 200 then
        io.write("------------------------------\n")
        io.write("Response with status: ".. status .."\n")
        io.write("------------------------------\n")
        io.write("[response] Body:\n")
        io.write(body .. "\n")
    end
end